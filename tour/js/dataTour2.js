let arr = [
  {
    img: "img/21.jpg",
    title: "DU LỊCH MỸ THO - CẦN THƠ - SÓC TRĂNG - BẠC LIÊU - CÀ MAU",
    location: "TP. HỒ CHÍ MINH - MIỀN TÂY",
    time: "Thời gian: 4 ngày 3 đêm",
    vehicle: "Phương tiện : Đi về bằng xe",
    start: "- Khởi hành: thứ 5 hàng tuần - Đến Mỹ Tho thưởng thức trái cây...",
    price: "Giá từ",
    num: "4.979.000",
    timeStart: "01/06/2023",
    timeEnd: "08/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/22.jpg",
    title: "DU LỊCH PHÚ QUỐC - BÃI SAO - SUNSET TOWN - KISS THE STARS SHOW",
    location: "TP. HỒ CHÍ MINH - PHÚ QUỐC",
    time: "Thời gian: 3 ngày 2 đêm",
    vehicle: "Phương tiện : Hàng không Vietnam Airlines",
    start: "- Khởi hành (thứ 5): 1, 8, 15, 22, 29/06; 6, 13, 20, 27/07; 3,...",
    price: "Giá từ",
    num: "6.839.000",
    timeStart: " 01/06/2023",
    timeEnd: "08/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/23.jpg",
    title: "DU LỊCH HÀ NỘI - NINH BÌNH - HẠ LONG - SAPA - FANSIPAN",
    location: "TP. HỒ CHÍ MINH - HÀ NỘI | HẠ LONG | NINH BÌNH | SAPA",
    time: "Thời gian: 6 ngày 5 đêm",
    vehicle: "Phương tiện : Hàng không Vietnam Airlines",
    start: "- Khởi hành (thứ 5): 1, 8, 15, 22, 29/6; 6, 13, 20, 27/7; 3,...",
    price: "Giá từ",
    num: "11.279.000",
    timeStart: "  01/06/2023",
    timeEnd: "08/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/24.jpg",
    title:
      "DU LỊCH ĐÀ LẠT - SAMTEN HILLS - KHU DU LỊCH ĐỒI MÂY - LANGBIANG - GALLERY LA CHOCATEA - THÁC DAMBRI",
    location: "TP. HỒ CHÍ MINH - ĐÀ LẠT",
    time: "Thời gian: 4 ngày 3 đêm",
    vehicle: "Phương tiện : Đi về bằng xe",
    start:
      "- Khởi hành: thứ 5 hàng tuần - Tham quan Quảng trường Lâm Viên với...",
    price: "Giá từ",
    num: "4.197.000",
    timeStart: " 01/06/2023",
    timeEnd: "08/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/25.jpg",
    title: "DU LỊCH PHÚ QUỐC - SUỐI TRANH - CÁP TREO HÒN THƠM - TẶNG VÉ BUFFET",
    location: "TP. HỒ CHÍ MINH - PHÚ QUỐC",
    time: "Thời gian: 3 ngày 2 đêm",
    vehicle: "Phương tiện : Hàng không Vietnam Airlines",
    start: "- Khởi hành (thứ 6): 2, 9, 16, 23, 30/06; 7, 14, 21, 28/07; 4,...",
    price: "Giá từ",
    num: "7.379.000",
    timeStart: " 02/06/2023",
    timeEnd: "09/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/26.jpg",
    title:
      "DU LỊCH LỄ HỘI PHÁO HOA ĐÀ NẴNG [ĐÀ NẴNG - HỘI AN - CÙ LAO CHÀM - BÀ NÀ]",
    location: "TP. HỒ CHÍ MINH - HỘI AN | ĐÀ NẴNG",
    time: "Thời gian: 3 ngày 2 đêm",
    vehicle: "Phương tiện : Hàng không Vietnam Airlines",
    start:
      "- Khởi hành (thứ 6): 02, 16/06/2023 - Tham dự Lễ Hội bắn pháo hoa...",
    price: "Giá từ",
    num: "7.479.000",
    timeStart: " 02/06/2023",
    timeEnd: " 16/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/27.jpg",
    title: "DU LỊCH CẦN THƠ - CỒN SƠN - CHÂU ĐỐC - TRÀ SƯ - SA ĐÉC",
    location: "TP. HỒ CHÍ MINH - MIỀN TÂY",
    time: "Thời gian: 3 ngày 2 đêm",
    vehicle: "Phương tiện : Đi về bằng xe",
    start: "- Khởi hành thứ 6 - Trải nghiệm cuộc sống bình dị của cư dân...",
    price: "Giá từ",
    num: "3.979.000",
    timeStart: " 02/06/2023",
    timeEnd: " 09/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/28.jpg",
    title: "DU LỊCH TUY HÒA - GÀNH ĐÁ ĐĨA - QUY NHƠN - KỲ CO - EO GIÓ",
    location: "TP. HỒ CHÍ MINH - TUY HOÀ - QUY NHƠN",
    time: "Thời gian: 3 ngày 2 đêm",
    vehicle: "Phương tiện : Hàng không Vietnam Airlines",
    start: "- Khởi hành (thứ 7) - Tham quan Bãi Xép - một trong những bãi...",
    price: "Giá từ",
    num: "6.479.000",
    timeStart: "03/06/2023",
    timeEnd: "17/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/29.jpg",
    title:
      "DU LỊCH LỄ HỘI PHÁO HOA ĐÀ NẴNG [ĐÀ NẴNG - HỘI AN - BÀ NÀ - SUỐI KHOÁNG NÓNG THẦN TÀI - HUẾ]",
    location: "TP. HỒ CHÍ MINH - HUẾ | HỘI AN | ĐÀ NẴNG",
    time: "Thời gian: 4 ngày 3 đêm",
    vehicle: "Phương tiện : Hàng không Vietnam Airlines",
    start:
      "- Khởi hành (thứ 7): 3,10,17,24/6; 8/7/2023 - Tham dự Lễ Hội bắn pháo hoa...",
    price: "Giá từ",
    num: "8.579.000",
    timeStart: " 03/06/2023",
    timeEnd: " 10/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/211.jpg",
    title: "DU LỊCH TÂY NINH - TÒA THÁNH - CÁP TREO SUNWORLD BÀ ĐEN",
    location: "TP. HỒ CHÍ MINH - TÂY NINH",
    time: "Thời gian: 2 ngày 1 đêm",
    vehicle: "Phương tiện : Đi về bằng xe",
    start:
      "- Khởi hành (thứ 7 ):15/4; 6, 20/5/20233, 17/6; 8, 22/7, 5, 19/8 - Chinh...",
    price: "Giá từ",
    num: "2.979.000",
    timeStart: " 03/06/2023",
    timeEnd: "17/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/212.jpg",
    title:
      "DU LỊCH ĐÀ LẠT - KHU DU LỊCH CAO NGUYÊN HOA ĐÀ LẠT - TRANG TRẠI RAU & HOA - ĐỒI CHÈ CẦU ĐẤT - THÁC DATANLA",
    location: "TP. HỒ CHÍ MINH - ĐÀ LẠT",
    time: "Thời gian: 4 ngày 3 đêm",
    vehicle: "Phương tiện : Đi về bằng xe",
    start:
      "- Khởi hành: thứ 7 hàng tuần - Tham quan Quảng trường Lâm Viên với...",
    price: "Giá từ",
    num: "3.879.000",
    timeStart: " 03/06/2023",
    timeEnd: "10/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/222.jpg",
    title:
      "DU LỊCH NHA TRANG - HÒN LAO - DỐC LẾT - I RESORT [FESTIVAL BIỂN 2023]",
    location: "TP. HỒ CHÍ MINH - NHA TRANG",
    time: "Thời gian: 4 ngày 3 đêm",
    vehicle: "Phương tiện : Đi về bằng xe",
    start:
      "- Tham dự Khai mạc Festival biển Nha Trang – Khánh Hoà 2023 - Tham...",
    price: "Giá từ",
    num: "4.279.000",
    timeStart: " 03/06/2023",
    timeEnd: " .",
    end: "Xem thêm",
  },
  {
    img: "img/233.jpg",
    title:
      "DU LỊCH TẠI ĐÀ NẴNG - KHU DU LỊCH BÀ NÀ - CẦU VÀNG - HỘI AN - BẢO TÀNG TRANG 3D",
    location: "TP. HỒ CHÍ MINH - HỘI AN | ĐÀ NẴNG",
    time: "Thời gian: 3 ngày 2 đêm",
    vehicle: "Phương tiện : Hàng không Vietnam Airlines",
    start:
      "- Khởi hành CN (bao gồm VMB): 04,11,18,25/06; 02,09,16,23;30/07; 06,13,20/08/2023 - Tham quan Bảo tàng...",
    price: "Giá từ",
    num: "5.779.000",
    timeStart: " 04/06/2023",
    timeEnd: "11/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/244.jpg",
    title: "DU LỊCH TẠI PHAN THIẾT - MŨI NÉ - LÀNG CHÀI XƯA",
    location: "TP. HỒ CHÍ MINH - PHAN THIẾT",
    time: "Thời gian: 3 ngày 2 đêm",
    vehicle: "Phương tiện : Đi về bằng xe",
    start: "- Khởi hành Chủ Nhật hàng tuần - Đến Hòn Rơm tham quan đồi cát...",
    price: "Giá từ",
    num: "2.979.000",
    timeStart: " 04/06/2023",
    timeEnd: " 11/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/255.jpg",
    title: "DU LỊCH HÀ NỘI - NINH BÌNH - HẠ LONG - SAPA - FANSIPAN - ĐỀN HÙNG",
    location: "TP. HỒ CHÍ MINH - HẠ LONG | NINH BÌNH | SAPA",
    time: "Thời gian: 6 ngày 5 đêm",
    vehicle: "Phương tiện : Hàng không Vietnam Airlines",
    start: "- Khởi hành (thứ 2): 5, 12, 19, 26/6 ; 3, 10, 17, 24, 31/7;...",
    price: "Giá từ",
    num: "11.279.000",
    timeStart: "05/06/2023",
    timeEnd: " 12/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/266.jpg",
    title: "DU LỊCH PHÚ QUỐC - TỰ DO KHÁM PHÁ ĐẢO NGỌC PHÚ QUỐC",
    location: "TP. HỒ CHÍ MINH - PHÚ QUỐC",
    time: "Thời gian: 3 ngày 2 đêm",
    vehicle: "Phương tiện : Hàng không Vietnam Airlines",
    start:
      "- Khởi hành (thứ 3): 6, 13, 20, 27/06; 4, 11, 18, 25/07; 1, 8/08...",
    price: "Giá từ",
    num: "4.839.000",
    timeStart: " 06/06/2023",
    timeEnd: " 13/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/277.jpg",
    title: "DU LỊCH HÀ NỘI - BÀ NÀ HILLS - PHỐ CỔ HỘI AN - RỪNG DỪA BẢY MẪU",
    location: "HÀ NỘI - ĐÀ NẴNG",
    time: "Thời gian: 4 ngày 3 đêm",
    vehicle: "Phương tiện : Máy bay + Ô tô",
    start:
      "- Tham quan Bảo Tàng Đà Nẵng, Thành Điện Hải, Trung tâm Hành chính TP...",
    price: "Giá từ",
    num: "6.950.000",
    timeStart: " 06/06/2023",
    timeEnd: " 08/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/288.jpg",
    title:
      "DU LỊCH BẾN TRE - TRÀ VINH - SÓC TRĂNG - BẠC LIÊU - MŨI CÀ MAU - HÀ TIÊN - 'THẤT SƠN' AN GIANG - LONG XUYÊN - ĐỒNG THÁP MƯỜI",
    location: "TP. HỒ CHÍ MINH - MIỀN TÂY",
    time: "Thời gian: 6 ngày 5 đêm",
    vehicle: "Phương tiện : Đi về bằng xe",
    start:
      "- Thăm làng nghề truyền thống, thưởng thức trà, trái cây bốn mùa. - Viếng...",
    price: "Giá từ",
    num: "8.679.000",
    timeStart: " 06/06/2023",
    timeEnd: " 13/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/299.jpg",
    title:
      "DU LỊCH LỄ HỘI PHÁO HOA ĐÀ NẴNG [ĐỘNG THIÊN ĐƯỜNG - HUẾ - ĐÀ NẴNG - BÀ NÀ - HÀ NỘI]",
    location: "TP. HỒ CHÍ MINH - HUẾ | HỘI AN | ĐÀ NẴNG",
    time: "Thời gian: 5 ngày 4 đêm",
    vehicle: "Phương tiện : Hàng không Vietnam Airlines",
    start:
      "- Khởi hành thứ 4: 07,21/06; 05/07/2023 - Tham dự Lễ Hội bắn pháo hoa...",
    price: "Giá từ",
    num: "9.979.000",
    timeStart: " 07/06/2023",
    timeEnd: " 21/06/2023",
    end: "Xem thêm",
  },
  {
    img: "img/2111.jpg",
    title: "DU LỊCH HÈ: ĐÀ NẴNG - HUẾ - HỘI AN - BÀ NÀ - KHỞI HÀNH TỪ CẦN THƠ",
    location: "CẦN THƠ - HUẾ | HỘI AN | ĐÀ NẴNG",
    time: "Thời gian: 4 ngày 3 đêm",
    vehicle: "Phương tiện : Hàng không Vietnam Airlines",
    start: "- TẶNG BUFFET BÀ NÀ CHO KHÁCH ĐĂNG KÝ MUA CÁP TREO BÀ NÀ HILLS...",
    price: "Giá từ",
    num: "7.190.000",
    timeStart: " 08/06/2023",
    timeEnd: " 15/06/2023",
    end: "Xem thêm",
  },
];
let list = document.querySelector(".list-tour");

var html = arr.map((item) => {
  return `<div class="tours">
            <div class="tours-img">
                <a href="book.html" class="getData" img="${item.img}" title="${item.title}" price="${item.num}" time="${item.time}"><img src='${item.img}'></a>
            </div>
            <div class="tours-info">
                <a href="book.html" class="getData" img="${item.img}" title="${item.title}" price="${item.num}" time="${item.time}"><h3>${item.title}</h3></a>
                <h5>${item.location}</h5>
                <p>${item.time}</p>
                <p>${item.vehicle}</p>
                <p>${item.start}</p>
            </div>
            <div class="tours-time">
                <a href="book.html" class="getData" img="${item.img}" title="${item.title}" price="${item.num}" time="${item.time}"><span style="font-size: 13px ; font-weight: 100;">${item.price}</span><span></span>${item.num}</a>
                <p>${item.timeStart}</p>
                <p>${item.timeEnd}</p>
                <a href="" class="see">${item.end}</a>
            </div>
        </div>`;
});

list.innerHTML = html;

var getData = document.querySelectorAll(".getData");

getData.forEach((item) => {
  item.onclick = () => {
    localStorage.setItem("img", item.getAttribute("img"));
    localStorage.setItem("title", item.getAttribute("title"));
    localStorage.setItem("price", item.getAttribute("price"));
    localStorage.setItem("time", item.getAttribute("time"));
  };
});

let arrLink = ["tourInPage1.html", "tourInPage2.html", "tourInPage3.html"];

document.querySelectorAll(".ctrl")[1].onclick = (e) => {
  e.preventDefault();
  location.href = arrLink[2];
};
document.querySelectorAll(".ctrl")[0].onclick = (e) => {
  e.preventDefault();
  location.href = arrLink[0];
};

let arrClass = [
  ".search-tour",
  ".tour-main",
  ".box-tour-In",
  ".footer",
  ".header",
];
let arrAttribute = ["img", "title", "price", "time"];
document.querySelectorAll(".see").forEach((item) => {
  item.onclick = (e) => {
    e.preventDefault();
    var price = item.parentElement.children[0].innerHTML.replace(
      '<span style="font-size: 13px ; font-weight: 100;">Giá từ</span><span></span>',
      ""
    );
    document.querySelectorAll(".col")[0].children[1].innerHTML = price;
    document.querySelectorAll(".col")[1].children[1].innerHTML = (
      price.replaceAll(".", "") / 2
    )
      .toLocaleString()
      .replaceAll(",", ".");
    document.querySelectorAll(".col")[2].children[1].innerHTML = (
      price.replaceAll(".", "") / 5
    )
      .toLocaleString()
      .replaceAll(",", ".");

    document.querySelector(".seeMore").style.top = "50%";
    document.body.style.overflowY = "hidden";
    for (var i = 0; i < arrClass.length; i++) {
      document.querySelector(`${arrClass[i]}`).style.opacity = "0.5";
    }
    for (var g = 0; g < arrAttribute.length; g++) {
      document
        .querySelector(".l")
        .setAttribute(
          `${arrAttribute[g]}`,
          item.parentElement.children[0].getAttribute(`${arrAttribute[g]}`)
        );
    }
  };
});

document.querySelector(".fa-xmark").onclick = () => {
  document.querySelector(".seeMore").style.top = "-25%";
  document.body.style.overflowY = "auto";
  for (var i = 0; i < arrClass.length; i++) {
    document.querySelector(`${arrClass[i]}`).style.opacity = "1";
  }
};

document.querySelectorAll(".l").forEach((item) => {
  item.onclick = () => {
    localStorage.setItem("img", item.getAttribute("img"));
    localStorage.setItem("title", item.getAttribute("title"));
    localStorage.setItem("price", item.getAttribute("price"));
    localStorage.setItem("time", item.getAttribute("time"));
  };
});
